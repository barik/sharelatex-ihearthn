In Google, we use two approaches:1) add an explicit Context parameter to each function that needs one; typically this is the first parameter and is named "ctx".  This makes it obvious how to cancel that function and pass stuff through it, but it's a lot of work.  We are developing static analysis and refactoring tools to help automate tasks like this.2) use a package to map http.Requests to Contexts.  This requires that whatever server handler you're using register a Context in a map for each http.Request and remove it when the request completes.  You could do this using the gorilla context package, for example.My personal preference is the explicit ctx parameter, since then libraries are agnostic to the framework being used.  Different frameworks can provide their own Context implementations; middleware should not care.